{"version":3,"sources":["assets\\Script\\game_1.js"],"names":["cc","Class","Component","properties","bg1","Node","bg2","speed","timer","jellyfishTimer","groundTimer","heartTimer","score","scoreLabel","Label","bgm","AudioClip","bgmID","end","endLabel","jellyfishesPrefab","type","Prefab","groundPrefab","heartPrefab","onLoad","find","active","triggerY","height","audioEngine","play","start","NewJellyfish","jellyfish","instantiate","x","node","width","min","max","y","Math","floor","random","setPosition","v2","addChild","NewGround","ground","NewHeart","heart","update","dt","string","player","playerJs","getComponent","director","pause","life","value_left","value_right"],"mappings":"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","sourceRoot":"/","sourcesContent":["// Learn cc.Class:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        bg1: cc.Node,\r\n        bg2: cc.Node,\r\n        speed: 0,\r\n        timer: 0,\r\n        jellyfishTimer: 0,\r\n        groundTimer: 0,\r\n        heartTimer: 0,\r\n        score: 0,\r\n        scoreLabel: cc.Label,\r\n        bgm: cc.AudioClip,\r\n        bgmID: null,\r\n        end: cc.Node,\r\n        endLabel: cc.Label,\r\n        jellyfishesPrefab: {\r\n            default: null,\r\n            type: cc.Prefab,\r\n        },\r\n        groundPrefab: {\r\n            default: null,\r\n            type: cc.Prefab,\r\n        },\r\n        // playerPrefab: {\r\n        //     default: null,\r\n        //     type: cc.Prefab,\r\n        // },\r\n        heartPrefab: {\r\n            default: null,\r\n            type: cc.Prefab,\r\n        },\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad() {\r\n        let end = cc.find(\"Canvas/Main Camera/end\");\r\n        end.active = false;\r\n        this.triggerY = this.bg1.height;\r\n        this.bgmID = cc.audioEngine.play(this.bgm, true, 2);\r\n    },\r\n\r\n    start() {\r\n    },\r\n\r\n    NewJellyfish() {\r\n        let jellyfish = cc.instantiate(this.jellyfishesPrefab);\r\n        jellyfish.x = this.node.width / 2;\r\n        var min = -this.node.height / 2;\r\n        var max = this.node.height / 2;\r\n        let y = Math.floor(Math.random() * (max - min) + min);\r\n        jellyfish.setPosition(new cc.v2(jellyfish.x, y));\r\n        this.node.addChild(jellyfish);\r\n    },\r\n\r\n    NewGround() {\r\n        let ground = cc.instantiate(this.groundPrefab);\r\n        ground.y = -this.node.height / 2;\r\n        var min = -this.node.width / 2;\r\n        var max = this.node.width / 2;\r\n        let x = Math.floor(Math.random() * (max - min) + min);\r\n        ground.setPosition(new cc.v2(x, ground.y));\r\n        this.node.addChild(ground);\r\n    },\r\n    // NewPlayer() {\r\n    //     let player = cc.instantiate(this.playerPrefab);\r\n    //     player.setPosition(new cc.v2(0, 300));\r\n    //     this.node.addChild(player);\r\n    // },\r\n    NewHeart() {\r\n        let heart = cc.instantiate(this.heartPrefab);\r\n        var min = -this.node.width / 2;\r\n        var max = this.node.width / 2;\r\n        let y = Math.floor(Math.random() * (max - min) + min);\r\n        let x = Math.floor(Math.random() * (max - min) + min);\r\n        heart.setPosition(new cc.v2(x, y));\r\n        this.node.addChild(heart);\r\n    },\r\n\r\n    update(dt) {\r\n        this.timer += dt;\r\n        this.score += 1;\r\n        this.scoreLabel.string = this.score;\r\n        this.jellyfishTimer += dt;\r\n        this.groundTimer += dt;\r\n        this.heartTimer += dt;\r\n        if (this.heartTimer >= 1) {\r\n            this.heartTimer = 0;\r\n            this.NewHeart();\r\n        }\r\n        if (this.jellyfishTimer >= 1) {\r\n            this.jellyfishTimer = 0;\r\n            this.NewJellyfish();\r\n        };\r\n        if (this.groundTimer >= 3) {\r\n            this.groundTimer = 0;\r\n            this.NewGround();\r\n        };\r\n        if (this.speed <= 5000) {\r\n            this.speed = 10 * this.timer + 400;\r\n        }\r\n        this.bg1.y += dt * this.speed;\r\n        this.bg2.y += dt * this.speed;\r\n        if (this.bg1.y >= this.triggerY) {\r\n            this.bg1.y = this.bg2.y - this.bg1.height;\r\n        }\r\n        else if (this.bg2.y >= this.triggerY) {\r\n            this.bg2.y = this.bg1.y - this.bg1.height;\r\n        };\r\n\r\n        let player = cc.find(\"Canvas/Main Camera/player\");\r\n        let playerJs = cc.find(\"Canvas/Main Camera/player\").getComponent(\"player\");\r\n        if (this.score > 2000) {\r\n            this.endLabel.string = \"你真TM的流掰\";\r\n            this.end.active = true;\r\n            cc.director.pause();\r\n        }\r\n        if (player.y < -this.node.height / 2 || playerJs.life <= 0) {\r\n            cc.director.pause();\r\n            playerJs.value_left = 0;\r\n            playerJs.value_right = 0;\r\n            this.end.active = true;\r\n        }\r\n    },\r\n\r\n\r\n});\r\n"]}